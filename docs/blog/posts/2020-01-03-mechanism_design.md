---
date:
  created: 2020-01-03
  #updated:

#draft: true
---

# Mechanism Design

메커니즘 디자인이란 무엇인가? 

당신은 이사를 가기 위해 집을 부동산에 내놓았다. 공인중개사는 당신이 내놓은 집을 살 사람을 여러 명 물색하여 당신을 포함한 자리를 마련했다. 당연히 이 상황에서 당신은 가능한 가장 높은 가격을 받고 집을 팔고 싶을 것이다. 이 상황에서 어떻게 판매해야 가장 높은 가격에 집을 팔 수 있을까? 아, 공인중개사는 감사하게도 자리를 무보수로 마련해 주었으며 수수료를 받지 않는다고 한다. 

당장 떠오르는 대답으론 '경매'가 있다. 당신이 집을 살 사람들에게 각자가 원하는 가격을 입찰하도록 요구하고, 그 중 가장 높은 가격을 채택하여 거래를 진행하는 방법이다. 하지만 입찰된 가격 중 가장 높은 가격이 당신의 마음에 들지 않을 가능성도 있다. 따라서 특정한 가격 이상의 입찰만 받는 방법도 생각할 수 있다. 이 경우에는 입찰이 진행되지 않을 수 있는 문제를 가지고 있다. 그럼 도대체 어떻게 집을 팔아야 할까?

위의 예시들에서 집을 사려는 사람들은 비협조적인 게임(non-cooperative game)에 놓여 있게 된다. 게임의 결과(집을 사거나, 사지 못하거나)에는 각자의 선택만이 영향을 미치는 것이 아니라 다른 이들의 선택에도 영향을 받기 때문에 게임의 참여자끼리 비협조적이면서도 집을 사기 위해 주어진 정보를 가지고 전략을 세워야 하는 전략적인 상황(strategic situation)에 놓이게 되는 것이다. 집을 판매하려는 사람이 집을 최대한 비싸게 팔기 위하여 자신과 집을 사려는 사람들 사이의 전략적인 상황을 '설계'하게 되는데, 이 때 이런 '설계' 그 자체가 메커니즘 디자인(mechanism design)에서 다루는 대상이다.

메커니즘 디자인과 게임이론은 서로 비슷해 보이지만 둘이 다루는 분야는 약간 다르다. 게임이론은 주어진 게임의 규칙을 받아들인 상황에서 상대방 행동을 전략적을 예측하고 이에 대응해 각 참여자들의 이익을 극대화하는 균형을 찾는 분야인 반면 메커니즘 디자인은 최적의 게임을 만드는데 집중을 한다. 만약 집 판매자가 경매를 통해 집을 팔기로 정했다면, 집을 사려는 사람들 사이의 전략적 상황을 고려하여 개인이 입찰할 금액을 예측하는게 게임이론에서 하는 일이다. 반면 메커니즘 디자인에서는 경매를 통한 집의 거래가 판매자의 이익을 극대화하는지, 혹은 다른 더 좋은 방식이 존재하는지에 대한 분석을 다룬다.

사실 메커니즘 디자인은 게임이론의 하위 분야인 계약이론(contract theory)과 상당히 유사하다. 두 이론 모두 게임 참여자들의 행동을 유도하기 위해서 유인(incentive)을 중시하고 있기 때문이다. 그러나 계약이론에서는 한 명의 대상에 대한 최적의 유인 설계에 주목하는 반면, 메커니즘 디자인에서는 다수의 대상에 대한 최적의 유인 설계에 중점을 두고 있다.

앞서 들었던 예시를 떠올리면, 집을 판매하려는 사람과, 집을 구매하려는 사람들이 있었다. 앞으로 이 글에서 집을 판매하려는 사람을 주인(principal)으로 부를 것이고, 집을 사려는 사람을 대리인(agent)으로 부를 것이다. 다시 추상화하여 앞에 언급된 예시를 정리하면, 주인과 대리인들이 있고 주인은 어떠한 재화를 대리인들에게 가장 비싸게 팔고 싶어한다. 대리인들도 마찬가지로 가장 합리적인 가격으로 그 물건을 사고 싶어한다. 이러한 상황에서 주인이 선택할 수 있는 가장 괜찮은 거래방식이 무엇인지에 대해 논하려고 한다. 

하지만 최적 메커니즘에 대한 자세한 분석은 어려운 수학을 통해 이루어진다.  따라서 명확한 메커니즘을 도출하는 과정은 생략하고, 이후의 이론을 전개하기 위해 반드시 필요하다고 생각되는 다이렉트 메커니즘, 계시 원리, IC, IR조건을 소개하고 이에 대한 설명을 덧붙이고자 한다. 간단한 정의와 조건들이지만 추상적인 개념들이라서 생소하게 느껴질 수 있다. 추상적인 대상에서 상식과 직관에 합치하는 부분을 찾아 설명을 덧붙여 독자의 이해에 도움을 주고자 하였다.

지금부터 메커니즘 디자인의 기본적인 내용을 살펴보자. 

---

## 간단한 상황

이번 장의 경우 가장 간단한 경우인 1인 대리인의 상황부터 설명한다. 주인과 한 명의 대리인이 있는 경우의 기본적인 가정과 용어를 설명하고 다음 장에서 이를 일반화하여 $N$명의 대리인이 있는 경우를 상정하고 이론을 전개할 것이다.

우선 대리인에 대한 미시경제학적인 가정을 소개한다. 대리인의 효용함수는 재화를 구매하였을 경우 $\theta - t$, 재화를 구매하지 못했을 경우 $0$이다. 이때 $t$는 주인에게 재화에 대한 가격으로 주는 돈을 의미하며, $\theta$의 경우는 적절한 가정이 있으면 대리인이 재화(집)에 대해서 생각하는 가치로 볼 수 있다. 여기서 적절한 가정이란 $\theta$가 재화를 얻을 확률과 무관하다는 것인데 이 가정에 따르면 대리인은 재화를 얻을 확률이 그것을 가졌을 때 효용과 무관해지기 때문에 자신이 생각한 가치가 바로 $\theta$가 된다. 재화를 실제로 구매했다고 해서 더 큰 효용을 얻는다거나, 재화를 구매하지 못했다고 해서 더 낮은 효용을 얻지는 않는다는 뜻이다. 또한 이때 관심을 가지는 재화의 가치는 보통 $0$보다 크기 때문에 $\theta \geq 0$이 된다. 이 가정을 통해서 $\theta$를 대리인이 생각하는 물건의 주관적인 가치로 볼 수 있게 된다.  

대리인의 효용함수를 조금 더 일반화하면 $U(I, t)$로 나타낼 수 있다. 여기서 $I$는 지표함수(indicator function)로 대리인이 재화를 구매했을 경우 1, 실패했을 경우 0을 함숫값으로 가지는 함수이다. 추가 분리성(additive separability) 가정을 통해 $U(I=1, t) = \theta -t$로 쓸 수 있다. 추가 분리성 가정이란, 물건을 구매함으로써 얻는 효용이 지불한 가격의 크기와 무관하다는 내용이다. 이는 현실과의 괴리가 있다. 만약 당신이 14만원의  '갤럭시 버즈'와 33만원의 '에어팟 프로' 중 '에어팟 프로'를 구매하였다고 생각해보자. 이때 당신은 저렴한 재화보다 비싼 재화를 구매했기 때문에 재화에 대한 기대가 당연히 높을 것이고, 재화가 주는 효용과 재화에 대한 비용은 무관하지 않게 된다. 현실에서는 추가 분리성 가정이 비현실적이지만 논의의 편의성을 위해서 많은 메커니즘 디자인 모델에서는 추가 분리성을 가정하고 있다.

$\theta$는 대리인이 생각하는 재화의 가치를 의미함과 동시에, 대리인의 타입이라고 생각할 수 있다. 타입은 대리인의 사적인 정보를 의미한다. 주인과 대리인은 사적인 정보가 포함된 전략적인 상황에 놓여있다고 생각할 수 있는데, 게임이론에서는 이런 상황을 '자연(Nature)'이 대리인의 타입을 선택하고 대리인은 타입을 혼자만 알고 있으며 주인은 대리인의 타입에 대해 모르는 동태적인(dynamic) 게임으로 치환한다.

$\theta$는 자연에 의해서 대리인에게 부여된 고유한 값이기 때문에 $\theta$에 대해 주인은 확률론적인 고려를 할 수 밖에 없다. 따라서 주인은 $\theta$를 확률변수로 여기며, 주관적인 누적분포함수 $F$, 확률밀도함수 $f$를 동시에 생각한다. 

그렇다면 주인은 자신의 이윤을 어떠한 방식으로 극대화할까? 

전통적인 미시경제학에서 주인의 기대수익은  $p \times (1-F(p))$와 같을 것이다. 이는 재화의 가격을 $p$로 설정했을 때, 대리인의 타입 $\theta$가 $p$보다 커서 물건을 구매할 확률인 $P(\theta \geq p) = \int_p^\infty f(t)dt = 1-F(p)$를 곱하여 얻을 수 있다. 이를 미분하여 1계 조건을 만족하는 적당한 가격 $p^*$를 찾아 그 가격으로 재화의 가격을 설정하여 기대수익을 극대화할 수 있다. 하지만 이 방법이 가능한 모든 거래방법 중 언제나 가장 좋은 결과를 낸다고 결론지을 수 있을까?

주인과 대리인의 상황을 앞서 본 고정된 가격에 대한 최적화처럼 보지 말고 사적인 정보가 있는 주인, 대리인 사이의 전략적 상황으로 간주해보자. 이는 굉장히 흥미로운 관점의 변화다. 주인과 대리인 사이의 전략적 상황은 '자연'이 포함된 동태적 게임으로 항상 표현될 수 있고 거래방식에 따라서 서로 다른 구조의 게임으로 표현된다. 여러번 언급했듯, 주인은 이 수많은 게임들 중 하나를 선택해서 자신의 수익을 극대화 하는 것으로 볼 수 있고 이러한 선택하는 행위를 '메커니즘을 디자인한다'고 말한다. 고정된 가격에 대한 최적화는 자연이 대리인의 타입을 선택하고 주인은 가격을 정해두었으며 대리인은 그 가격을 받아들여 물건을 살지, 말지를 결정하는 순서의 게임을 선택했을 때 그 게임에서 가장 좋은 수익을 거두기 위한 최적화로 생각할 수 있다.

주인과 대리인 사이에 수많은 게임이 존재할 수 있기 때문에, 주인이 자신의 기대수익을 극대화하기 위해 대리인이 가진 돈을 모두 주인에게 바치는 게임을 선택하면 된다는 주장을 펼칠 수 있다. 하지만 이런 게임을 선택할 수 있으면 뒤에 이루어진 모든 논의가 필요없다. 이런 말이 안 되는 게임을 솎아내기 위해 간단한 조건을 도입하게 된다. 주인은 대리인의 기대효용이 $0$이상인 게임만 선택할 수 있다는 조건이다. 기대효용이 $0$보다 작아서 음의 효용을 주는 거래는 합리적인 경제주체에 의해 채택되지 않음이 분명하기 때문이다. 이 조건을 통해 주인과 대리인 사이의 거래방식 중 노예계약과 같은 상식을 아득히 뛰어넘는 방법들은 채택될 수 없다.

지금까지 설명된 메커니즘 디자인의 가장 큰 한계점은, 고려해야 할 게임의 수가 너무 많다는 점에 있다. 만약 게임의 수가 유한하다면 시간은 오래 걸리겠지만 언젠가 모든 경우의 수를 다 고려할 수 있을 것이고 그 중 최적의 결과를 불러오는 게임을 선택할 수 있다. 하지만 유한번 이내로 게임이 종결되야 하는 조건을 어디서도 찾을 수 없으며 우리가 고려해야 하는 게임의 수는 어떤 정수보다도 큼을 손쉽게 추론할 수 있다. 하지만 포기하지 말고 가장 간단한 형태의 메커니즘인 다이렉트 메커니즘부터 살펴보도록 하자.

다이렉트 메커니즘은 가장 모든 참여자가 전략을 선택하는 가장 간단한 형태의 게임으로부터 비롯되는 메커니즘이다. 가장 간단한 형태의 게임은 다음과 같다.

1. '자연'이 대리인의 타입 $\theta$를 결정한다.
2. 대리인은 결정된 $\theta$를 관찰하고, 이 정보를 가지고 전략 $\sigma(\theta)$을 선택하여 주인에게 이야기한다.
3. 주인은 대리인이 선택한 전략 $\sigma(\theta)$를 보고 결정을 내린다.
4. 결정은 절대로 번복되지 않는다.

2번 항목에서 $\sigma: \theta \mapsto \sigma(\theta)$는 대리인의 전략적 선택을 말한다. 대리인은 자신의 타입을 있는 그대로 주인에게 이야기 할 수도 있고, 거짓말을 보태 이야기할 수 있는데 그러한 선택을 함수 $\sigma$로 묘사하였다.

본문에서 주인과 대리인의 효용을 재화와 재화에 대한 가격을 통해 묘사하고 있기 때문에, 3번 항목의 '결정'은 $q$와 $t$라는 함수로 기술될 수 있다. 

먼저 함수 $q : a \mapsto q(a)\in [0, 1]$는 주인이 정한 대리인이 선택한 전략에 대한 재화의 판매 확률이다. 예를 들어 주인이 100을 넘는 전략에 대해서만 재화를 판매하겠다고 정했다면, $q$는 대리인이 이야기한 전략이 100을 넘을 때만 1을 함숫값으로 가지고 이외의 경우에는 0을 함숫값으로 가진다. 또한 이 예시는 $q$가 대리인이 이야기한 전략이 100을 넘지 않을 때 물건을 팔지 않겠다는 '결정'을 의미하는 것으로 이해할 수 있다.

다음으로 $t: a \mapsto t(a) \in \mathbb{R}$은 주인이 정한 지불규칙이다. 대리인이 선택한 전략이 $a$일 때 $t(a)$를 지불하는 규칙인 것이다. 재화를 받지 못해도 지불할 수 있음에 유의해야 한다. 이러한 유의점에서, $t$는 대리인의 기대지불이라고 봐도 좋고, 주인의 기대수익이라고 봐도 좋다. 물론 앞서 언급한 대리인의 기대효용이 $0$이상인 범위 내에서 위의 함수들을 정할 수 있다.

사실, 주인이 $q, t$를 무조건적으로 이행할 것임을 전제로 대리인에게 제안했고 대리인은 이를 기반으로 전략을 선택한다고 다이렉트 메커니즘을 이해할 수 있다. 게임이론에서 'incredible threat'과 비슷한 느낌을 받을 수 있는데 메커니즘 디자인에서는 믿을 수 있다고 가정한다.

다이렉트 메커니즘은 위의 큰 틀을 따르되, 세부적으로 $q, t$가 변경됨에 따라 여러가지 구조가 파생된다. 즉 다이렉트 메커니즘은  $q, t$가 정해진 위의 간단한 형태의 게임 $\Gamma$로 정의할 수 있다. 

자, 왜 이 간단한 메커니즘을 소개하는데 많은 지면을 할애했는지 궁금할 것이다. 바로 뒤에 소개될 계시 원리를 통하여 일반성을 잃지 않고 다이렉트 메커니즘과, 진실을 이야기하는 전략만 고려하면 된다는 엄청난 결론에 도달할 수 있다. 즉 대리인이 진실만을 이야기한다는 가정 속에서 적당한 $q, t$를 찾는 일로 문제를 탈바꿈시킬 수 있다는 뜻이다. 이런 대단한 결론을 도출해주는 계시 원리에 대해서 알아보도록 하자.

계시 원리는 임의의 메커니즘 $\Gamma$와, $\Gamma$에서 대리인의 최적 전략 $\sigma$가 주어졌을 때, 항상 그에 상응하는 다이렉트 메커니즘 $\Gamma'$과 대리인의 전략 $\sigma '$이 존재함을 뜻한다. 특히 $\sigma', q, t$는 다음을 만족한다.

1. 모든 $\theta$에 대해서 $\sigma'(\theta) = \theta$, 즉 진실을 말하는 전략이 최선이다.
2. 모든 $\theta$에 대해 다이렉트 메커니즘의 두 함숫값 $q(\theta), t(\theta)$는 각각 주어진 메커니즘 $\Gamma$에서 대리인이 자신의 최적전략 $\sigma(\theta)$를 수행했을 때 얻게 되는 재화 판매 확률과 주인의 기대수익이다.

원리를 간단하게 이해해보자. 2번 항목은 주인이 다이렉트 메커니즘의 두 함수 $q, t$를 설계할 때 대리인이 진실 전략을 선택할 것임을 상정하고 함수를 설계하여 그 함수가 주어진 게임의 균형 분배 상태를 유도하고 이 상태가 균형 효용을 유도한다는 뜻이다. 함수 $q, t$가 주어진 상황에서 만약 거짓을 말하게 된다면 균형 분배 상태에서 벗어남에 따라 균형 효용에서 벗어나고, 따라서 게임의 균형에 도달하지 못한다. 따라서 진실을 말하는 전략이 최선의 전략이 된다. 자세한 증명은 [^1][^7]에서 볼 수 있다.

또한 다이렉트 메커니즘과 계시원리를 통해, 대리인의 효용함수를 $u(\theta) = \theta q(\theta) - t(\theta)$로 표현할 수 있다. $\theta q(\theta)$는 재화에 대해 매긴 가치 $\theta$와 그 재화를 얻을 확률 $q(\theta)$를 곱해 얻어지며, $-t(\theta)$는 기대되는 지불할 돈이다. 물론 계시원리를 통해 얻어진 값들이기 때문에 대리인이 항상 자신의 타입 $\theta$를 거짓없이 밝히는 경우를 상정하고 있다.

앞에서, 주인이 대리인에게 가진 돈을 모두 빼앗는 메커니즘을 솎아내고자 도입한 조건을 기억해낼 수 있을 것이다. 이를 'individual rationality' 조건, 줄여서 IR조건이라고 하며 모든 $\theta$에 대하여 $u(\theta) = \theta q(\theta) - t(\theta) \geq 0$으로 서술할 수 있다. 이제와서 앞의 조건에 이름을 붙이고, 식을 서술하는 것에 의문을 가질 수 있다. 앞에서 특정되지 않은 메커니즘을 다룰 때는 대리인의 기대효용을 명확하게 서술할 수 있는 방법이 없었다. 하지만 다이렉트 메커니즘과 계시 원리를 통해 앞으로 고려할 대상을 다이렉트 메커니즘과 진실 전략으로 축소시키면 대리인의 기대효용을 명확하게 서술할 수 있었다. 따라서 기대효용을 서술할 수 있는 환경이 조성됨에 따라 조건에 이름을 붙이고 그 조건을 명확하게 서술함이 타당하다고 느껴졌다. IR조건과 비슷하게, 다이렉트 메커니즘과 계시원리에 의해서 바로 유도되는 또 하나의 조건을 살펴보자.

대리인의 타입이 $\theta$이지만 거짓 $\theta'$을 말하는 전략을 취했을 때 얻게되는 효용은 $\theta q(\theta') - t(\theta')$이다. 하지만 계시원리에 의해 진실을 말하는 전략에 따른 기대효용 $u(\theta)$가 더 커야 한다. 따라서 $\theta q(\theta) - t(\theta) \geq \theta q(\theta ') - t(\theta')$을 만족해야 하며, 이를 'incentive compatibility' 조건, 줄여서 IC조건으로 부른다.

참고로, IC조건을 통해 우리는 $q$가 증가함수임을 보일 수 있다[^3]. 잘 생각해보면 $q$가 증가할 수 밖에 없다. 설명하기에 앞서 다시 한 번 우리는 계시원리를 통해 다이렉트 메커니즘과 진실 전략을 고려하고 있다는 것을 상기하자. $q$는 주인이 재화를 대리인에게 판매할 확률, 즉 대리인이 재화를 주인으로부터 획득할 확률을 의미하는데, 대리인이 생각하는 재화의 가치가 클수록 주인에게 더 높은 타입을 이야기 할 것이므로 재화를 획득할 확률이 증가하게 된다.

몇몇 단계를 더 거쳐서 결국에 $p \times (1-F(p))$를 극대화하는 가격을 정하는 방식이 주인의 기대수익을 극대화 해준다는 사실을 알 수 있지만, 어려운 수학이 사용되었기에 해당 내용은 싣지 않는다.

지금까지 한 명의 주인과 한 명의 대리인이 있을 때 최적의 재화 거래방식을 분석하기 위한 기초적인 틀에 대해서 살펴봤다. 글에서 자세하게 설명하진 않았지만 결과적으로 과거에 통용되던 방식이 주인의 기대수익을 최대화 하는 거래방식이란 것을 재확인 할 수 있었다. 이 결과에 대해 실망감을 느낄 수도 있다고 생각한다. 재미있는 분석방식으로 도달한 결론이 아주 예전부터 널리 사용되던 방식의 재확인이었기 때문이다. 하지만 새로운 분석의 틀이 마련되었고 이 새로운 도구로 과거의 이론을 설명할 수 있으며, 더 나아가 이를 통해 한 명의 대리인이 아닌 복잡한 경우의 문제를 기존의 방식보다 효율적으로 다룰 수 있는 틀을 마련할 수 있을 것이라는데 분석의 의의가 있다.

---

## 조금 더 복잡한 상황

지금부터는 한 명의 주인과 여러 명의 대리인이 있는 상황을 고려할 것이다. 이전의 예시를 다시 떠올려볼 때, 주인은 자신의 집을 팔고 싶어하고, 대리인은 그 집을 살 의향을 가진 사람이다. 이전과의 차이점은 집을 살 의향을 가진 사람들이 한 명을 넘어가는 경우를 다룬다는 데 있다. 주인은 어떻게 자신의 집을 팔아야 이윤을 극대화할 수 있을까? 이전 단락과 마찬가지로 explicit한 함수를 도출하는 과정은 너무 수학적인 내용이라서 제외하고, 문제를 푸는 데 필요한 기본적인 수학/통계적 모델링 방법과 중요한 정리 및 정의들을 소개하고자 한다.

대리인의 집합을  $\mathcal{N} = \{1, 2, \cdots, N\}$라고 하자. 모든 $i \in \mathcal{N}$은 재화에 대한 가치  $\theta _i$를 마음속에 고이 간직하고 있다. 따라서 재화를 사는데 $t_i$만큼을 지불했다면 $i$가 재화를 구입함으로써 얻는 효용은 $\theta_i - t_i$가 될 것이다. 하지만 $t_i$를 지불하고도 재화를 수령하지 못한다면 $-t_i$의 효용을 얻을 것이다. 재화를 받지 못했는데 돈을 내는 비현실적인 상황 역시 앞에서 언급된 추가 분리성에서 기인한다. 추가 분리성은 물건을 소비함으로써 얻는 효용이 물건의 구매에 사용된 가격과 무관하다는 가정이었는데 이에 더하여 대리인 $i$의 비효용 $-t_i$는 재화의 소유에 무관하다는 내용도 있다.

반면에 주인은 $\sum_{i\in \mathcal{N}} t_i$ 만큼의 효용을 재화를 판매함으로써 얻게 된다. 각 $i \in \mathcal{N}$에 대하여 $\theta_i$는 대리인의 사적인 정보를 나타낸다. 따라서 사적인 정보가 주어진 여러 대리인들을 상대로 그 정보를 모르는 주인이 자신의 이윤을 극대화하고자 하는 상황을 다루려고 한다.

이러한 상황은 앞서 언급되었듯 게임으로 모델링할 수 있다. 사적 정보가 있는 게임(game with incomplete information)은 '자연'이라는 게임의 참여자가 각 대리인의 타입을 결정하고, 이를 관찰한 각각의 대리인은 자신에게 주어진 정보(타입)을 기반으로 주인에게 신호를 보낸다. 신호를 받은 주인은 그 신호들을 바탕으로 자신의 행동을 결정한다. 그 뒤에 대리인이 취할 행동이 있을 지 없을 지는 모델링한 게임에 따라 다르다. 예를 들어, 주인이 첫째 가격 경매을 통해 집 가격을 정하고자 한다면 대리인들은 사적 정보를 가지고 입찰을 진행하며 입찰액 중 최고가를 선정해 주인은 그에게 집을 팔 것이다. 하지만 좀 다른 모델을 생각할 수도 있다. 대리인들이 신호를 보내고 이 신호를 수합한 주인은 가장 낮은 신호를 보낸 대리인을 제외하고 다시 신호를 받을 수도 있다. 이처럼 모델링될 수 있는 거래방법은 무궁무진하게 많으며 이 중 주인 자신의 이윤을 극대화할 수 있는 게임을 찾는 것이 주인의 최종 목표라고 볼 수 있다.


$\theta _i$에 대해서 조금 자세하게 살펴보자. $\theta _i$는 각 대리인이 매긴 재화의 값이다. 앞에서 언급한 게임이론적인 맥락에서,  $i$는 $\theta _i$를 알고 있지만 $i$가 아닌 다른 대리인은 알려주기 전까지 $\theta_i$에 대해 알 수 없다. 물론 주인 역시 $\theta_i$에 대하여 모른다.또한 $\theta _i$는 자연으로부터 결정되었기 때문에 주인의 주관적인 생각이 반영된 누적분포함수 $F_i$에서 비롯되는 누적분포를 따르는 확률변수로써 생각할 수 있다. 정확한 $\theta_i$를 알 수가 없기 때문에 주인은 $\theta_i$를 확률변수로 고려할 수 밖에 없다. $F_i$는 마치 베이지안 확률에서 나오는 '사전확률'과 같다.  분석의 편의를 위해서 모든 $i\in \mathcal{N}$에 대하여 $\theta _i \in \left [\underline{\theta},\overline{\theta}  \right ]$라고 하자. 단, $\underline{\theta} \geq 0$이다. 이 뜻은, 각 $\theta _i$가 모두 같은 확률분포를 따른다곤 할 수 없지만 같은 서포트[^2]를 갖는 확률변수라고 가정하겠다는 말이다. 서포트 자체는 분석에 있어 큰 의미를 가지지 않기 때문에 통일해도 무방하다. 만약 서로 다른 서포트에 속한다고 가정하면, 확률을 계산할 때 치환적분을 통해 같은 범위로 바꾸어 계산할 수 있다. 이 과정을 반복하지 않기 위해 애초에 통일하겠다는 뜻이다.  또한, 분석의 편의성을 위해서 확률밀도함수 $f_i$에 대하여 $f_i > 0$, 즉 $F_i$가 강단조증가함수임을 가정한다.


이제, 각 $\theta _i$가 서로 독립이라는 가정을 할 것이다. 즉 대리인이 재화의 가치를 매길 때 다른 이들의 생각은 전혀 고려하지 않고 자신만의 주장을 한다는 뜻이다. 그리고 $\theta = (\theta_1, \theta_2, \cdots, \theta_N)$로 정의를 하면, $\theta$ 역시 확률변수가 되며, 누적분포함수 $F$가 주어지게 된다. 특히, 각 확률변수가 독립이기에 $F$는 각 $F_i$들의 곱과 같다. 자연스럽게 $\theta$의 서포트는 $\Theta = \left [\underline{\theta}, \overline{\theta} \right]^N$가 될 것이다. 그리고 $F$는 모든 대리인, 주인에게 알려져 있다고 가정한다. 그러면 이 $F$는 각 참여자들이 베이지안 게임을 풀 때 사용되는 믿음이 된다.


사실 각 대리인의 재화에 대해 매긴 값이 서로 독립적이란 가정은 현실을 충실히 반영하지 못한다. 자신의 생각을 뚝심있게 밀고나가는 사람도 물론 있을 수 있지만 대부분은 다른 사람들의 평가에 영향을 받는다. 재화에 대하여 자신만 지나치게 고평가/저평가 하고 있는 상황에서 자신의 생각에 대하여 조금이라도 걱정하지 않는 사람은 없을 것이다. 서로 마주칠 일이 없는 주식시장과 같은 곳에서는 이런 경향이 좀 덜 할 수 있어도 상호작용이 활발히 일어나는 대중 속에서는 자신만의 생각을 고수하기란 상당히 힘들 것으로 보인다. 우리가 참고한 책[^1]뒷부분에 타입 간 correlation이 있는 모델링에 대한 설명이 나오니, 관심있는 독자는 참고하길 바란다.

다음의 '다이렉트 메커니즘'에 대한 정의를 보면서 메커니즘이 대략적으로 무엇인지 감을 잡아보자.

'다이렉트 메커니즘'은 함수 $q$와 $\left \{ t_i \right \}_{i\in \mathcal{N}}$로 이루어져 있다. $q: \Theta \rightarrow \Delta$, $t_i : \Theta \rightarrow \mathbb{R}$을 만족하는 함수며, 여기서 $\Theta$는 위에 나온 $\theta$의 서포트이고 $\Delta$는 $N$-tuple의 모임인데, 특히 $\Delta$의 원소의 각 성분은 0과 같거나 크며 각 성분의 총합이 1과 같거나 작다. $\Delta$의 원소의 $i$번째 성분은 대리인 $i$가 재화를 받을 확률이라고 볼 수 있다. 참고로, 각 성분의 합이 1보다 작을 수 있는데, 이는 재화가 대리인에게 전달되지 않을 가능성을 시사한다.

$q$는 각 대리인이 자신의 타입을 밝혔을 때(거짓일 수도 있다) 재화가 분배될 확률을 나타낸다고 볼 수 있다. 이를 'allocation rule'이라고 부르곤 한다. 또한 $t_i$는 각 대리인이 자신의 타입을 밝혔을 때 대리인 $i$가 주인에게 지불할 액수를 의미한다. 이를 대리인 $i$의 'payment rule'이라고 부르곤 한다.


이전에도 보았듯 주인은 대리인들에게 어떤 메커니즘을 제시하고 그 메커니즘을 무조건 이행한다고 가정(주인이 내린 결정은 번복되지 않음)하는게 분석의 기초였다. 지금은 여러 대리인들이 있으므로 메커니즘은 어떤 Bayesian Game으로 생각할 수 있다. 다만 이 Bayesian Game에 균형이 없는 경우에는 대리인들의 전략을 특정하여 분석할 수 없으므로 주인의 기대효용을 특정하여 분석할 수 없기에, 고려대상에서 제외하는 것이 타당하다. 따라서 메커니즘은 Bayesian Nash Equilibrium $\sigma$가 존재하는 Bayesian Game $\Gamma$라고 정의할 수 있다. 게임의 결과는 화폐의 지급과, 재화의 분배로써 표현된다. 이는 위에서 소개된 'allocation rule'과, 'payment rule'을 통해 실현된 분배상태라고 생각하면 된다.


다음은 계시원리에 대한 설명이다. 앞서 설명했듯 이를 통해 일반적인 메커니즘을 모두 고려하여 최적화를 진행하기보다, 다이렉트 메커니즘과 진실 전략에만 집중하여 최적화를 진행할 수 있다. 아주 자연스럽게 유도되는 규칙이지만, 만약 발견되지 않았더라면 메커니즘 디자인 이론은 너무 복잡해 아주 소수만 연구할 수 있는 분야가 되지 않았을까 생각한다. 그러한 이유에서,  고등학교 때 많이 들어보았던 미적분학의 기본정리와 마찬가지로 계시원리를 메커니즘 디자인의 기본 원리라고 불러도 손색이 없다.


모든 메커니즘 $\Gamma$ 그리고 해당되는 Bayesian Nash equilibrium $\sigma$에 대하여 항상 다이렉트 메커니즘 $\Gamma '$과 이에 상응하는 BNE $\sigma'$가 존재한다. 또한, $\Gamma', \ \sigma'$은 다음 두가지를 만족한다.

1. 모든 $i\in \mathcal{N}$ 그리고 모든 $\theta_i$에 대하여 $\sigma_i'(\theta_i) = \theta_i$를 만족한다. 즉 $\sigma'$은 진실을 말하는 전략으로 해석할 수 있다.
2. 모든 $(\theta_1, \cdots \theta_N)$에 대하여 게임 $\Gamma$에서 각 대리인이 $\sigma_i$를 이행할 때 얻어지는 결과는 게임 $\Gamma'$에서 각 대리인이 $\sigma'_i$를 이행할 때 얻어지는 결과와 같다.


계시원리를 통해 고려해야 하는 메커니즘의 갯수를 현저하게 줄일 수 있다고 하였는데, 그 이유에 대해 생각해보자. 계시원리에 의하여 어떤 메커니즘과 그 BNE[^4]에 대하여 결정되는 재화의 분배상태와 화폐 분배상태는 항상 진실 전략과 다이렉트 메커니즘에 대해 결정될 수 있다. 그러나 결국 게임의 참여자들의 효용에 영향을 미치는 것은 재화과 화폐의 분배상태이기 때문에, 진실 전략과 다이렉트 메커니즘만 고려해도 된다는 뜻이 된다. 혹은 유도된 진실 전략과 다이렉트 메커니즘이 최적화된 메커니즘의 필요조건이라고 해석할 수도 있다.


우리의 관심사를 다이렉트 메커니즘으로 축소했지만, 조금 더 축소할 수 있는 여지가 남아있다. 각 대리인은 이 게임에 참여해서 손해를 보고싶어하지 않을 것이므로 자신의 기대효용이 0 이상인 경우에만 개임에 참여할 것이다. 이를 수식적으로 기술하기 위해 몇가지 용어를 도입한다.


$\theta_{-i}$는 타입 벡터 $\theta$에서 $i$번째 성분을 뺀 것이다. $\theta _ {-i}$의 서포트는 $\Theta_{-i} := \left [\underline{\theta}, \overline{\theta} \right]^{N-1}$ 이고, $F_{-i}$는 $\theta_{-i}$의 누적확률함수다. $f_{-i}$는 $F_{-i}$의 밀도함수라고 하자. 그러면 다음과 같은 함수 $Q_i(\theta_i) = \int_{\Theta_{-i}}q_i(\theta_i, \theta_{-i})f_{-i}(\theta_{-i})d\theta_{-i}$를 생각할 수 있는데, 이는 대리인 $i$가 자신의 타입을 $\theta_i$라고 말했을 때 재화를 얻을 확률이라고 해석할 수 있고 $T_i(\theta_i)=\int_{\Theta_{-i}}t_i(\theta_i, \theta_{-i})f_{-i}(\theta_{-i})d\theta_{-i}$는 대리인 $i$가 자신의 타입을 $\theta_i$라고 말했을 때 재화를 얻기 위해 지불할 금액의 기댓값이라고 볼 수 있다. 따라서 대리인 $i$가 자신의 타입을 $\theta_i$라고 이야기 했을 때(진실된 이야기) 얻을 것으로 기대되는 효용은 $U_i(\theta_i) = \theta_iQ_i(\theta_i)-T_i(\theta_i)$라고 할 수 있다.


앞에서 말했듯, 각 대리인는 자신의 기대효용이 $0$ 이상인 경우에만 게임에 참여할 것이므로 $U_i(\theta_i) \geq 0$이 모든 $i\in \mathcal{N}$에 대해 만족되어야 한다. 이를 'individual rationality', 줄여서 IR조건이라고 부른다. 또한 진실을 말하는 것이 BNE인 상황을 고려하고 있으므로 $\theta_i Q_i(\theta_i) - T_i(\theta_i) \geq \theta_iQ_i(\theta'_i)-T_i(\theta'_i)$란 조건이 각 $i$에 대하여 성립해야 한다. 이를 'incentive compatibility', 줄여서 IC조건이라고 한다. 1인 대리인의 상황과 굉장히 유사한 형태의 수식이기 때문에 잘 이해가 되지 않는 독자는 앞으로 돌아가 간단한 경우의 IR, IC조건을 살펴봄으로써 일반화된 경우의 조건을 더 잘 이해할 수 있다.


IR 조건은 너무 간단하여 쉽게 이해할 수 있으므로 자세한 설명은 생략한다. 반면 IC 조건은 조금 복잡하게 생겼기에, 설명을 덧붙이고자 한다. 부등호의 왼편은 자신의 실제 타입을 밝히는 것을 전략으로 삼았을 때의 기대효용이라고 위에서 설명한 바 있다. 반면 우변에는 함수 안에 $\theta'_i$가 들어가 있는데, 이는 대리인 $i$가 자신의 타입이 $\theta_i$이지만 전략적으로 $\theta'_i$라고 거짓말 하는 상황의 기대효용을 나타낸다. 각 대리인이 진실을 말하는 것이 Nash Equilibrium이 되기 위해서는 모든 거짓말의 기대효용보다 진실의 기대효용이 높아야 하므로 위의 부등식이 만족되어야 다이렉트 메커니즘으로 우리가 고려할 대상을 한정시킬 수 있어서 'compatibility'와 같은 단어가 쓰였다.


위의 설명들을 읽어보면 결국 IR, IC조건을 만족시키는 진실 전략과 다이렉트 메커니즘으로 우리의 논의를 좁힐 수 있다. 이후에는 이 효용함수에 대한 여러가지 분석과 실해석적 분석을 통해서 경매[^1][^5]가 주인의 효용을 극대화함을 알 수 있다.


지금까지 한 명의 주인과 여러명의 대리인이 있을 때 주인의 효용을 극대화를 목표로 하는 메커니즘 디자인에 필요한 간단한 정의와 조건들에 대하여 살펴보았다. 주인이 효용을 극대화 하기 위해서는 당연히 경매를 통하여 재화를 판매해야 한다는, 직관에 의존적인 추론을 쉽게 내릴 수 있지만 논리적으로 이를 확인하기란 상당히 어려웠다. 본문에서 소개된 분석의 틀을 기반으로 열심히 함수들을 분석하다 보면 경매가 가장 좋은 방식이라는 것을 논리적으로 확인할 수 있다. 하지만 추가 분리성, 타입의 독립성 등과 같은 다소 비현실적인 가정을 통하여 논의를 진행했기 때문에 이를 일반화한 분석의 필요성이 제기되었다. 그럼에도 불구하고 1인 대리인의 경우보다 훨씬 복잡한 다수의 대리인이 존재하는 경우의 최적 메커니즘을 분석하여 세간의 상식을 설명할 수 있다는 점은 굉장히 놀랍다. 

---

## 요약 및 정리

지금까지 기본적인 메커니즘 디자인 이론을 소개했다. 가장 간단한 형태의 분석 대상인 1인 대리인의 경우와 조금 더 복잡해진 다수의 대리인이 존재하는 상황을 고려할 때 주인의 효용을 극대화하기 위한 메커니즘 디자인의 기본적인 정의와 조건들인 다이렉트 메커니즘, 계시원리, IR조건과 IC조건을 살펴보았다. 본문에 여러번 언급되었듯 이 정의와 조건들은 간단한 형태를 분석하기 위한 틀에 불과하다. 간단한 형태를 완전히 분석하기 위해서 더 많은 수학적인 도구가 사용되며, 마찬가지로 더 현실적인 문제를 분석하기 위해서는 더 어려운 조건들과 더 복잡한 가정이 필요할 것이다.

복잡한 수학을 통해 경제현상에 대한 설명을 시도하는 일을 곱지 않은 시선으로 볼 독자들도 분명 있을 것이다. 하지만 수학은 모든 사람들에게 받아들여지는 논리 구조를 기반으로 공리와 정의를 통해 모든 것을 연역해 나가는 방법이다. 가정과 공리가 틀리지 않은 이상 수학적으로 증명된 명제는 언제나 사실이기 때문에 많은 이론을 전개하는데 훌륭한 도구가 된다. 경제 상황을 모델링하기 위해 사용된 가정과 공리가 현실의 상황을 충분히 잘 반영한다고 모든 사람들 사이에 합의가 이루어지면 수학적인 분석 방법 만큼 정확한 다른 분석 방법은 없다. 따라서 모델링을 위한 가정과 공리에 대한 쟁점이 있더라도 수학을 통한 분석이 상당히 유용하다고 말할 수 있다.

그러나 이런 훌륭한 장점에도 불구하고, 단점 역시 분명히 존재한다. 가장 치명적인 단점은 공리와 가정이 현실을 충분히 반영하지 못한다는 점이다. 본문의 내용에서도 현실을 충분히 반영하지 못하는 가정들과 모델의 사례를 어렵지 않게 찾아볼 수 있다. 

우선 대리인의 효용함수 $\theta - t$가 지불금액에 $t$에 대하여 선형적이란 점에 문제를 제기할 있다. 이는 지불할 돈의 액수에 대해서 대리인이 위험 중립적(risk neutral)인 태도를 보인다는 뜻으로 해석할 수 있는데, 현실의 사람들 중 위험 중립적인 사람을 찾기란 매우 힘들다. 사람들은 작은 액수의 돈에 대해서 위험 선호적(risk loving)이고, 큰 액수의 돈에 대해서는 위험 기피적이다. 예를 들어 사람들은 복권이나 경마와 같은 작은 액수의 돈이 들어가는 사행성 재화에 대해서 쉽게 돈을 지불하는데 작은 액수의 돈은 잃어도 크게 손해 볼 것이 없다는 마음에서 기인한다. 반면에 큰 액수의 돈이 오가는 부동산 구매와 같은 상황에 대해서 사람들은 위험이 적고 안정적인 자산에 투자하기를 희망한다. 투자에 성공하면 더 좋아지지만, 투자에 실패하면 정말 암담한 상황을 마주할 것이란 생각에서 그렇다. 이러한 이유에서 $t$에 대하여 선형적인 효용함수가 아니라 다른 효용함수를 가정하고 이론 전개를 펼치는 것이 보다 현실에 부합할 것이다.

또한 추가 분리성 역시 현실을 잘 반영하는 가정이라고 말할 수 없다. 재화에 지불하는 금액의 크기와 재화를 소비함으로써 얻는 효용이 독립적이란 가정은 '갤럭시 버즈'와 '에어팟 프로'의 예시를 통해 현실과 동떨어져있음을 어렵지 않게 파악할 수 있다. 대리인의 비효용 $-t_i$는 재화의 소비여부와 무관하다는 가정 역시 현실과 맞지 않음을 쉽게 생각할 수 있다. 재화를 소비하지 못했는데 돈을 내야 한다면 누구나 억울한 마음이 들어 비효용이 더 커질 것임이 분명하다.

이런 상황도 생각해 볼 수 있다. 집을 팔려는 주인이 다수의 대리인을 상대로 첫째 가격 경매를 통해서 집을 살 사람을 정했는데, 집 구매에 실패한 나머지 대리인들이 주인에게 결정된 가격보다 높은 가격을 제시하면서 재협상을 요구할 수도 있다. 메커니즘 디자인에서는 이러한 상황을 방지하고자 주인은 절대로 재협상을 고려할 수 없다고 가정한다[^6]. 계약이론에서는 재협상의 여지를 남겨놓음으로써 다양한 결과들이 도출된다. 주인이 재협상을 할 수도 있겠다는 생각이 들지 않는가? 과연 재협상의 금지는 현실을 충분히 잘 반영한 가정일까?

본문에서 언급하지는 않았지만 주인의 기대효용을 $\sum_{i \in \mathcal{N}}t_i$로 설정했을 때 필요한 가정이 있었다. 주인은 재화에 대해 아무 가치를 부여하지 않았다는 것이다. 따라서 재화를 판매함으로써 재화가 주인의 손에 떠나게 되어 생기는 비효용이 없고 주인의 효용함수를 위와 같이 설정할 수 있는 것이다. 하지만 일반적인 경우에 재화 보기를 돌같이 할 수 있는 사람은 흔치 않다.

아직 비현실적인 가정이 남았다. 여러 대리인이 있는 경우에 $F$가 각 대리인들에게 상식으로 알려져 있다는 가정이다. 이는 곧 각 대리인들이 개인에 대해서 주인이 생각하는 바는 정확히 모르지만 대리인 전체 집단에 대해서 주인이 생각하는 바를 잘 알고 있다는 가정이다. 스스로에 대한 주인의 생각을 모르는데 어떻게 집단에 대한 주인의 생각을 알 수 있을까? 이 역시 비현실적인 가정이라고밖에 말할 수 없다.

이외에 대리인들의 타입이 서로 독립이란 가정도 있었고, 각 $F_i$가 강단조증가란 가정도 있었다. 분석의 편의성을 위해 도입한 가정들이기에 현실과 맞지 않는 부분이 분명 있을 것이다. 이에 대해 생각해보는 것은 독자의 몫으로 남긴다.

소개된 비현실적인 가정들과 모델을 보았을 때 현상을 설명하는 데 실패했음에도 불구하고 제한적인 조건 하에서 경제 현상을 설명하기 위해, 계산의 편의성을 위해 억지로 끼워맞췄다고 생각할 수 있을 것이다. 하지만 복잡한 경제현상을 쉽게 설명하는 방법은 간단한 현상부터 고려하여 그것을 점차 일반화하며 설명하는 방법임을 상기했으면 좋겠다. 또한 책[^1] 후반부에 소개되는 모델들을 보면 이러한 가정들을 완화시켜 경제 현상을 설명하고 있으며 어느정도 성공을 거뒀다고 볼 수 있다.

지금까지 메커니즘 디자인 중에서 가장 간단하고 기초적인 분야를 소개하는데 그쳤지만, 사실 메커니즘 디자인은 방대한 분야이다. 이미 상당한 이론적 개발이 이루어져서 현실에 적용되고 있다. 또한 메커니즘 디자인은 경제학의 최전방에 있는 분야라고 할 수 있다. 메커니즘 디자인의 상위 분야인 게임이론이 사실상 이론적인 발견이 거의 다 끝나고 실증분석을 되풀이하고 있는 시점에서 메커니즘 디자인은 그 영역을 점차 확대해가고 있다. 현실 적용에도 활발한데, 정치 및 컴퓨터 공학 분야[^8]에도 최근 응용되고 있다. 특히 정부가 불완전한 시장에서 어떻게 제도를 만들어 가야 하는지에 대해서 아이디어를 제공해주고 있다. 

이 글을 읽은 독자가 메커니즘 디자인에 대하여 관심을 갖게 되길 진심으로 바란다.

[^1]: Tilman Borgers, An Introduction to the Theory of Mechanism Design, University Press, 2015 
[^2]:서포트는 확률변수가 가질 수 있는 값들의 집합이다. 확률밀도함수는 서포트를 정의역으로 가진다.
[^3]: 어렵지 않으니 직접 시도해 보길 권한다.
[^4]: Bayesian Nash Equilibrium
[^5]: 41쪽, proposition 3.4
[^6]: 1인 대리인의 경우에서 다이렉트 메커니즘을 설명한 부분을 참고하라
[^7]: 10쪽, proposition 2.1 또는 34쪽, proposition 3.1
[^8]: 박영재.  "인지 라디오 환경에서 메커니즘 디자인과 협상 게임을 이용한 효율적 자원 관리 기법에 대한 연구" VOL.- NO.- (2012)